From 8b154d028005cf161ecde5322b7b4f7771b7e16b Mon Sep 17 00:00:00 2001
From: Andrew Cooper <andrew.cooper3@citrix.com>
Date: Wed, 11 Jun 2014 19:17:57 +0100
Subject: [PATCH] tools/pygrub: Fix extlinux when /boot is a separate
 partition from /

Grub and Grub2 already cope with this.

Reported-by: Joseph Hom <jhom@softlayer.com>
Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
CC: Ian Campbell <Ian.Campbell@citrix.com>
CC: Ian Jackson <Ian.Jackson@eu.citrix.com>
---
 tools/pygrub/src/pygrub |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff -r 8c152a141c5f tools/pygrub/src/pygrub
--- a/tools/pygrub/src/pygrub
+++ b/tools/pygrub/src/pygrub
@@ -431,7 +431,9 @@ class Grub:
                        map(lambda x: (x,grub.ExtLinuxConf.ExtLinuxConfigFile),
                            ["/boot/isolinux/isolinux.cfg",
                             "/boot/extlinux/extlinux.conf",
-                            "/boot/extlinux.conf"]) + \
+                            "/boot/extlinux.conf",
+                            "/extlinux/extlinux.conf",
+                            "/extlinux.conf"]) + \
                        map(lambda x: (x,grub.GrubConf.GrubConfigFile),
                            ["/boot/grub/menu.lst", "/boot/grub/grub.conf",
                             "/grub/menu.lst", "/grub/grub.conf"])
